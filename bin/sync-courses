#!/usr/bin/env node

var debug = require('debug')('sync-courses:cli');
var Sync = require( 'webhook-cms-pull' );
var Courses = require('../sources/courses/index.js');

var Env = require('../env.js')();
var envConf = Env.asObject();

// allow user to define the files used for course syncing
var args = process.argv.slice( 2 )
if ( args.length >= 1 ) {
  envConf.listSourceLocal = args;
}

Sync( {
  sourcePrototype: Courses,
  env: envConf,
  syncNode: 'syncCourses'
}, onComplete )

function onComplete () {
  process.exit()
}
